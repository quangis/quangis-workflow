@prefix : <https://github.com/quangis/transformation-algebra#>.
@prefix from: <https://github.com/quangis/transformation-algebra#from>.
@prefix type: <https://github.com/quangis/cct#type>.
@prefix via: <https://github.com/quangis/cct#operator>.

_:UrbanAreas
    type: "R(Obj, Reg * Nom)".
_:Aquifer
    type: "R(Obj, Reg * Nom)".
_:Precipitation
    type: "R(Nom, Reg)".
_:Irrigation
    type: "R(Nom, Reg)".

[] a :Query;
    :question "Which urban areas are at risk from water depletion in Ogandala (High Plains) Aquifer, US?";
    :workflow <https://example.com/#OgallalaAquifer>;
    :input _:UrbanAreas, _:Aquifer, _:Precipitation, _:Irrigation;
    :output [
        type: "R(Obj, Reg * Nom)";
        from: [
            type: "R(Obj, Reg)";
            from: _:UrbanAreas
        ];
        from: [
            type: "R(Obj, Reg)";
            from: _:Aquifer
        ];
        from: [
            type: "R(Loc, Nom)";
            from: _:Precipitation # coverage
        ];
        from: [
            type: "R(Loc, Nom)";
            from: _:Irrigation # coverage
        ]
    ].
